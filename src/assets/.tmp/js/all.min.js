function lazyLoad(){var e=[].slice.call(document.querySelectorAll("img.lazy")),t=[].slice.call(document.querySelectorAll(".lazy-bg"));if("IntersectionObserver"in window){var n=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){var t=e.target;t.src=t.dataset.src,t.dataset.srcset&&(t.srcset=t.dataset.srcset),t.classList.remove("lazy"),n.unobserve(t)}}))}));e.forEach((function(e){n.observe(e)}));var r=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){var t=e.target;t.style.backgroundImage="url("+t.dataset.src+")",r.unobserve(t)}}))}));t.forEach((function(e){r.observe(e)}))}}"loading"!==document.readyState?lazyLoad():document.addEventListener("DOMContentLoaded",(function(){lazyLoad()}));
$((function(){$(window).on("scroll",(function(){$(window).scrollTop()>0?$("header").hasClass("fixed_header")||$("header").addClass("fixed_header"):$("header").hasClass("fixed_header")&&$("header").removeClass("fixed_header")})),$("#header__menu_links li a, .home__arrow_down, .header__logo_symbol, .amazing__tours_arrow").on("click",(function(e){e.preventDefault();const a=$($(this).attr("href")).offset().top-60;$("body,html").animate({scrollTop:a+"px"},1100)}));let e=$("section"),a=$(".nav__menu"),t=a.outerHeight();$(window).on("scroll",(function(){let n=$(this).scrollTop();e.each((function(){let o=$(this).offset().top-t,i=o+$(this).outerHeight();n>=o&&n<=i&&(a.find("a").removeClass("active"),e.removeClass("active"),$(this).addClass("active"),a.find('a[href="#'+$(this).attr("id")+'"]').addClass("active"))}))})),a.find("a").on("click",(function(){let e=$(this).attr("href");return $("html, body").animate({scrollTop:$(e).offset().top-t},500),!1})),$(".hamburger, .page_overlay").on("click",(function(){$(".mobile_menu_wrap .hamburger").toggleClass("is-active"),$("body").toggleClass("open")})),$(".sidemenu ul li a, .mobile__btn, .mobile__logo_symbol").on("click",(function(){$("body").removeClass("open")})),$(".callback__btn, .item__service_contact a").click((function(){$(".modal__callback").fadeIn(),$(".modal__callback").addClass("disabled")})),$(".callback__close_btn, .modal__close_btn").click((function(){$(".modal__callback, .booking__modal").fadeOut(600)})),$(document).mouseup((function(e){let a=$(".callback__content, .modal__field");e.target!=a[0]&&0===a.has(e.target).length&&$(".modal__callback, .booking__modal").fadeOut(600)})),$(document).on("keydown",(function(e){27==e.keyCode&&$(".modal__callback, .booking__modal").fadeOut(600)})),$((function(){$("#callback_phone, #booking_phone").mask("+38 (099) 999-99-9?9")})),$("#booking_email[type=email]").on("blur",(function(e){e.preventDefault();let a=$(this).val();a.length>0&&1!==(a.match(/.+?\@.+/g)||[]).length&&Swal.fire({position:"top-end",icon:"info",title:"Fill right email address!",showConfirmButton:!1,timer:4e3})}));const n="5167653908:AAFXB-D-kZfDWFFxheBEfRZi22U0J-Nos9c",o="-1001773732504";function i(){Swal.fire({position:"top-end",icon:"success",title:"Your message send!",showConfirmButton:!1,timer:4e3})}function l(){Swal.fire({position:"top-end",icon:"info",title:"Fill all field!",showConfirmButton:!1,timer:4e3})}function s(){Swal.fire({position:"top-end",icon:"error",title:"Server error!",text:"Possible the cards don't load!",showConfirmButton:!1,timer:4e3})}$("#my_callback-form").on("submit",(function(e){e.preventDefault();let a=document.getElementById("callback_name"),t=document.getElementById("callback_phone"),s=encodeURI(`Name: ${a.value};\nPhone: ${t.value}`);""!==a.value&&""!==t.value?$.get(`https://api.telegram.org/bot${n}/sendMessage?chat_id=${o}&text=`+s+"&parse_mode=html",(e=>{e.ok&&($("#my_callback-form").trigger("reset"),i(),$(".modal__callback").fadeOut(600))})):l()})),$("#card_tour").slick({infinite:!0,speed:900,dots:!0,slidesToShow:3,slidesToScroll:3,autoplay:!0,autoplaySpeed:6e3,responsive:[{breakpoint:999,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1}}]}),async function(){await $.ajax({url:"assets/common/card.json",type:"get",dataType:"json",success:function(e){let a="";e.forEach((e=>{a+=`\n                        <li class="card__item card-first wow animate__zoomIn" data-wow-duration="2s">\n                            <div class="card__image" id="card-img">\n                                <a class="card__image_link colorbox" data-fancybox="group-1" \n                                href="assets/images/place_image/${e.pic.bigImage}" title="${e.title}">\n                                    <img class="card__pic"\n                                        src="assets/images/place_image/${e.pic.image}" alt="place_image">\n                                    <div class="card__price">${e.pic.price}</div>\n                                </a>\n                            </div>\n                            <div class="card__content">\n                                <div class="card__title">\n                                    <h6>${e.title}</h6>\n                                </div>\n                                <div class="card__subtitle subtitle">\n                                    <p>${e.description}</p>\n                                </div>\n                                <div class="card__link">\n                                    <button type="button" class="card__link_text text_orange" id="card_btn">\n                                    ${e.link}</button>\n                                </div>\n                            </div>\n                        </li>\n                    `})),$("#page_card").append(a),$("#card_tour").slick("slickAdd",a)},error:function(){s()}}),$("#booking_btn, #card_btn").click((function(){$(".booking__modal").fadeIn(),$(".booking__modal").addClass("disabled")})),$("a.card__image_link").colorbox({maxWidth:"98%",maxHeight:"98%",closeButton:"true"})}(),$(".modal__form").on("submit",(function(e){e.preventDefault();let a=document.getElementById("booking_name"),t=document.getElementById("booking_surname"),s=document.getElementById("booking_email"),c=document.getElementById("booking_phone"),r=document.getElementById("choice_tour"),d=encodeURI(`Name: ${a.value};\nSurname: ${t.value};\nEmail: ${s.value};\nPhone: ${c.value};\nTour: ${r.value}`);""!==a.value&&""!==t.value&&""!==s.value&&""!==c.value&&""!==r.value?$.get(`https://api.telegram.org/bot${n}/sendMessage?chat_id=${o}&text=`+d+"&parse_mode=html",(e=>{e.ok&&($("#my_booking_form").trigger("reset"),i(),$(".booking__modal").fadeOut(600))})):l()})),$.ajax({url:"assets/common/review.json",type:"get",dataType:"json",success:function(e){let a="";e.forEach((e=>{a+=`\n                    <li class="clients__cards">\n                        <article class="clients__content">\n                            <div class="clients__review subtitle">\n                                <p>${e.review}\n                                </p>\n                            </div>\n                            <div class="clients__item">\n                                <div class="clients__footer">\n                                    <div class="clients__avatar">\n                                        <img class="clients__avatar_photo"\n                                            src="assets/images/clients/${e.author.avatar}" alt="author-pic">\n                                    </div>\n                                    <div class="clients__info">\n                                        <div class="clients__info_author">${e.author.name}</div>\n                                        <div class="clients__info_occupation">${e.author.occupation}</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </article>\n                    </li>\n                    `})),$("#review_clients").append(a)},error:function(){s()}}),lightGallery(document.querySelector(".gallery__album",".album__page"),{plugins:[lgZoom,lgThumbnail,lgFullscreen,lgComment,lgAutoplay,lgShare],thumbnail:!0,zoom:!0,actualSize:!0,animateThumb:!0,zoomFromOrigin:!0,speed:500,licenseKey:"your_license_key"}),$("#init_map").on("click",(function(){$(this).remove();let e=L.map("my_map").setView([24.9092452,91.8641862],4);L.tileLayer("https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(e);let a=L.icon({iconUrl:"assets/images/svg/map-pin.svg",iconSize:[96,96],iconAnchor:[12,41],popupAnchor:[36,-25]});L.marker([24.9092452,91.8641862],{icon:a}).addTo(e).bindPopup('\n            <div class="map_popup">\n            <img src="assets/plugins/leflet/images/map.svg" alt="map-pic">\n            <div class="map_info">\n                <b>Hello! <br>\n                My friend!</b>\n                <div class="map_info_text">You\'re in Flat 20, Housing state, Sylhet!</div>\n                </div>\n            </div>\n        ')})),(new WOW).init()}));